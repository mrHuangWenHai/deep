webpackJsonp([5],{"5mLB":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("bOdI"),o=i.n(a),n=i("RO48"),s=i("f+26"),l=i("igLI"),r={data:function(){return{conditions:[{value:"all",label:"所有数据"},{value:"expert",label:"专家名"},{value:"date",label:"日期"},{value:"brand",label:"商标耳牌"},{value:"vaccine",label:"检疫耳牌"},{value:"symptom",label:"症状"},{value:"uploader",label:"上传人"}],diaSearch:{expert:n.A,date:n.z,brand:n.y,vaccine:n.D,symptom:n.B,uploader:n.C},defaultImg:'this.src="//otxtxlg3e.bkt.clouddn.com/FA4EA1F6F081AAC90EA490C18481189C.jpg"',condition:"all",time:[],keyWords:"",productionShow:[],proList:[],pageNumb:1,total:0,limit:12}},mounted:function(){this.getProList()},methods:{deleteItem:function(t,e){var i=this;Object(n.l)(t.id).then(function(t){Object(l.i)(t)&&(i.$message.success("删除成功"),i.$set(i.productionShow,e,!0),i.getProList())})},showPop:function(t){this.$set(this.productionShow,t,!0)},change:function(){this.pageNumb=1},getProList:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;if("all"===this.condition)Object(n.x)({pageNumb:this.pageNumb-1,limit:this.limit,filetype:e}).then(function(e){if(Object(l.i)(e)){if(!e.data.List.length)return t.$message.warning("未查询到数据"),t.proList=[],void(t.total=0);e.data.List.forEach(function(t){t.url=s.b+"/pic/"+t.filename}),t.proList=e.data.List,t.total=e.data.size,t.productionShow=new Array([].length).fill(!1)}}).catch(function(e){t.$message.error("查询失败")});else if("date"===this.condition)Object(n.z)({sdate:this.time[0]||null,edate:this.time[1]||null,pageNumb:this.pageNumb-1,limit:this.limit,filetype:e}).then(function(e){if(Object(l.i)(e)){if(!e.data.List.length)return t.$message.warning("未查询到数据"),t.proList=[],void(t.total=0);e.data.List.forEach(function(t){t.url=s.b+"/pic/"+t.filename}),t.proList=e.data.List,t.total=e.data.size,t.productionShow=new Array([].length).fill(!1)}}).catch(function(e){t.$message.error("查询失败")});else{var i;this.diaSearch[this.condition]((i={},o()(i,this.condition,this.keyWords),o()(i,"pageNumb",this.pageNumb-1),o()(i,"limit",this.limit),o()(i,"filetype",e),i)).then(function(e){if(Object(l.i)(e)){if(!e.data.List.length)return t.$message.warning("未查询到数据"),t.proList=[],void(t.total=0);e.data.List.forEach(function(t){t.url=s.b+"/pic/"+t.filename}),t.proList=e.data.List,t.total=e.data.size}}).catch(function(e){t.$message.error("查询失败")})}}}},c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"admin-form mod_production"},[i("div",{staticClass:"production-search"},[i("el-select",{on:{change:t.change},model:{value:t.condition,callback:function(e){t.condition=e},expression:"condition"}},t._l(t.conditions,function(t){return i("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),"date"===t.condition?i("el-date-picker",{staticClass:"search-input",attrs:{type:"daterange",format:"yyyy-MM-dd HH:mm:ss","value-format":"yyyy-MM-dd HH:mm:ss","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}):"all"!==t.condition?i("el-input",{staticClass:"search-input",attrs:{placeholder:"请输入查询关键字"},model:{value:t.keyWords,callback:function(e){t.keyWords=e},expression:"keyWords"}}):t._e(),t._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(e){t.getProList()}}},[t._v("搜索")]),t._v(" "),i("el-button",{on:{click:function(e){t.getProList(0)}}},[t._v("图片")]),t._v(" "),i("el-button",{on:{click:function(e){t.getProList(1)}}},[t._v("视频")])],1),t._v(" "),i("div",{staticClass:"production-view"},t._l(t.proList,function(e,a){return i("div",{key:a,staticClass:"production-content"},[i("el-card",[1===e.filetype?i("i",{staticClass:"el-icon-caret-right video-icon "}):t._e(),t._v(" "),i("img",{staticClass:"production-image",attrs:{src:e.url,onerror:t.defaultImg},on:{click:function(e){t.showPop(a)}}}),t._v(" "),i("p",{staticClass:"production-info"},[t._v("症状描述："+t._s(e.symptom))]),t._v(" "),i("p",{staticClass:"production-info"},[t._v("解决方案："+t._s(e.solution))]),t._v(" "),i("el-dialog",{attrs:{visible:t.productionShow[a],width:"50%",center:""},on:{"update:visible":function(e){t.$set(t.productionShow,a,e)}}},[i("div",{staticClass:"show-detail"},[1===e.filetype?i("video",{staticClass:"production-video",attrs:{src:e.url,controls:"controls"}}):i("img",{staticClass:"production-image-detail",attrs:{src:e.url,onerror:t.defaultImg}})]),t._v(" "),i("div",{staticClass:"show-list"},[i("ul",[i("li",[i("el-tag",[t._v("商标耳牌")]),t._v(" "+t._s(e.brand))],1),t._v(" "),i("li",[i("el-tag",[t._v("检疫耳牌")]),t._v(" "+t._s(e.vaccine))],1),t._v(" "),i("li",[i("el-tag",[t._v("畜牧性别")]),t._v(" "+t._s(e.sex))],1),t._v(" "),i("li",[i("el-tag",{attrs:{type:"warning"}},[t._v("症状描述")]),t._v(" "+t._s(e.symptom))],1),t._v(" "),i("li",[i("el-tag",{attrs:{type:"danger"}},[t._v("解决方案")]),t._v(" "+t._s(e.solution))],1),t._v(" "),i("li",[i("el-tag",{attrs:{type:"success"}},[t._v("就诊专家")]),t._v(" "+t._s(e.expert))],1),t._v(" "),i("li",[i("el-tag",[t._v("上传日期")]),t._v(" "+t._s(e.udate))],1)])]),t._v(" "),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(i){t.deleteItem(e,a)}}},[t._v("删除")])],1)])],1)],1)})),t._v(" "),i("el-pagination",{attrs:{layout:"prev, pager, next",total:t.total,"page-size":12,"current-page":t.pageNumb},on:{"update:currentPage":function(e){t.pageNumb=e},"current-change":t.getProList}})],1)},staticRenderFns:[]};var u=i("VU/8")(r,c,!1,function(t){i("mB0E")},null,null);e.default=u.exports},"9bBU":function(t,e,i){i("mClu");var a=i("FeBl").Object;t.exports=function(t,e,i){return a.defineProperty(t,e,i)}},C4MV:function(t,e,i){t.exports={default:i("9bBU"),__esModule:!0}},bOdI:function(t,e,i){"use strict";e.__esModule=!0;var a,o=i("C4MV"),n=(a=o)&&a.__esModule?a:{default:a};e.default=function(t,e,i){return e in t?(0,n.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}},mB0E:function(t,e){},mClu:function(t,e,i){var a=i("kM2E");a(a.S+a.F*!i("+E39"),"Object",{defineProperty:i("evD5").f})}});
//# sourceMappingURL=5.36b1a0684b3539668f54.js.map