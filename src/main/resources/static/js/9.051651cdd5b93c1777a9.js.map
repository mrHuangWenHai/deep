{"version":3,"sources":["webpack:///src/components/admin/breed_table.vue","webpack:///./src/components/admin/breed_table.vue?2bb2","webpack:///./src/components/admin/breed_table.vue","webpack:///src/components/admin/nutrition/breed_list.vue","webpack:///./src/components/admin/nutrition/breed_list.vue?c0de","webpack:///./src/components/admin/nutrition/breed_list.vue","webpack:///./src/components/bus.js"],"names":["breed_table","Boolean","String","Function","Array","fetchData","_this","this","id","model","path","_this2","idx","getdata","userFactory","user","userRole","isPass","_this3","factoryName","gmtCreate","pathid","_user","userRealname","releaseType","data","agentRank","ispassCheck","v2","List","size","_this4","then","admin_breed_table","render","_vm","_h","$createElement","_c","_self","hideFilter","_e","staticClass","hidePass","attrs","width","placeholder","on","change","$event","value","callback","$$v","expression","_l","val","key","label","_v","slot","hideEartagFilter","eartag","type","range-separator","start-placeholder","end-placeholder","format","value-format","align","click","directives","name","rawName","ref","tooltip-effect","tableData","th","i","show-overflow-tooltip","prop","fixed","scopedSlots","_u","fn","scope","isCheck","viewPlan","$index","Spv","hideView","cellClick","row","column","edit","deleteItem","layout","total","current-page","page","current-change","update:currentPage","staticRenderFns","breed_list","AdminTable","__webpack_require__","normalizeComponent","ssrContext","getAllBreeding","deleteBreeding","nutrition_breed_list","modpath","getData","deleteData","headers","breed_list_Component","breed_list_normalizeComponent","__webpack_exports__"],"mappings":"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","file":"static/js/9.051651cdd5b93c1777a9.js","sourcesContent":["<template>\r\n    <div>\r\n        <div class=\"admin-list-pass\" v-if=\"!hideFilter && !releaseType \">\r\n            <el-select @change=\"fetchData()\" width=\"120\" v-if=\"!hidePass\" size=\"small\" v-model=\"isPass\" placeholder=\"所有数据\">\r\n                <el-option\r\n                    v-for=\"(val, key) in options\"\r\n                    :key=\"val\"\r\n                    :label=\"key\"\r\n                    :value=\"val\">\r\n                </el-option>\r\n            </el-select>\r\n            <el-input class=\"pick-erpai\" size=\"small\" v-model=\"factoryName\">\r\n                <template slot=\"prepend\">单位名:</template>\r\n            </el-input>\r\n            <el-input v-if=\"!hideEartagFilter\" class=\"pick-erpai\" size=\"small\" v-model=\"eartag\">\r\n                <template slot=\"prepend\">耳牌号:</template>\r\n            </el-input>\r\n            <el-date-picker\r\n                size=\"small\"\r\n                v-model=\"gmtCreate\"\r\n                type=\"datetimerange\"\r\n                range-separator=\"至\"\r\n                start-placeholder=\"开始日期\"\r\n                end-placeholder=\"结束日期\"\r\n                format=\"yyyy-MM-dd\"\r\n                value-format=\"yyyy-MM-dd\"\r\n                align=\"right\">\r\n            </el-date-picker>\r\n            <el-button @click=\"fetchData()\" size=\"small\" type=\"primary\">查询</el-button>\r\n        </div>\r\n        <el-table\r\n            v-loading=\"load\"\r\n            ref=\"table\"\r\n            tooltip-effect=\"dark\"\r\n            class=\"admin-table\"\r\n            :data=\"tableData\"\r\n            >\r\n            <el-table-column\r\n                show-overflow-tooltip\r\n                v-for=\"(th, i) in headers\"\r\n                :key=\"i\"\r\n                align='center'\r\n                :prop=\"th.prop\"\r\n                :label=\"th.label\"\r\n                :width=\"100\"\r\n            >\r\n            </el-table-column>\r\n            <el-table-column\r\n                class=\"action\"\r\n                fixed=\"right\"\r\n                label=\"操作\"\r\n                align='center'\r\n                width=\"160\">\r\n                <template slot-scope=\"scope\">\r\n                    <div class=\"opr\" v-if=\"!releaseType && !isCheck\">\r\n                        <span v-if=\"!hideView\" @click=\"cellClick(scope.row, scope.column)\">查看</span>\r\n                        <template>\r\n                            <span @click=\"edit(scope.$index)\" v-if=\"showEdit\">编辑</span>\r\n                            <span @click=\"deleteItem(scope.$index)\">删除</span>\r\n                        </template>\r\n                    </div>\r\n                    <div class=\"opr\" v-else-if=\"releaseType\">\r\n                        <span  @click=\"viewPlan(scope.$index)\">查看</span>\r\n                    </div>\r\n                    <div class=\"opr\" v-else>\r\n                        <span @click=\"Spv(1, scope.$index)\">通过</span>\r\n                        <span @click=\"Spv(0, scope.$index)\">拒绝</span>\r\n                    </div>\r\n                </template>\r\n            </el-table-column>\r\n        </el-table>\r\n\r\n        <el-pagination\r\n            layout=\"prev, pager, next\"\r\n            :total=\"total\"\r\n            @current-change=\"fetchData\"\r\n            :current-page.sync=\"page\">\r\n        </el-pagination>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { isReqSuccessful } from '@/util/jskit'\r\nimport { getUserById, getReleaseByName } from '@/util/getdata'\r\nimport {\r\n// 监督执行\r\n    patchWelfare,\r\n    patchBreeding,\r\n    patchPrevention,\r\n    patchDisinfect,\r\n    patchImmune,\r\n    patchAntiscolic,\r\n    patchStage,\r\n// 专家审核\r\n    patchProWelfare,\r\n    patchProPrevention,\r\n    patchProBreeding,\r\n    patchProDisinfect,\r\n    patchProImmune,\r\n    patchProAntiscolic,\r\n    patchProStage\r\n} from '@/util/getdata'\r\nimport Bus from '@/components/bus.js'\r\n\r\nexport default {\r\n    props: {\r\n        // 隐藏操作栏的查看功能\r\n        hideView: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        // 隐藏头部筛选\r\n        hideFilter: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        // 跳转路径\r\n        modpath: {\r\n            type: String\r\n        },\r\n        getData: {\r\n            type: Function\r\n        },\r\n        deleteData: {\r\n            type: Function,\r\n            default () {\r\n                return () => {}\r\n            }\r\n        },\r\n        // 审核接口\r\n        isCheck: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        headers: {\r\n            type: Array\r\n        },\r\n\r\n        // 是否显示操作栏的审核功能\r\n        hidePass: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        // 跳转路径是否没有prac\r\n        noPrac: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        // 代理表头需要转换\r\n        isAgent: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        // 方案表\r\n        releaseType: {\r\n            type: String,\r\n            default: ''\r\n        },\r\n        showEdit: {\r\n            type: Boolean,\r\n            default: true\r\n        },\r\n        hideEartagFilter: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        checkModule: {\r\n            type: String\r\n        }\r\n    },\r\n\r\n    watch: {\r\n        getData (newV) {\r\n            this.fetchData()\r\n        }\r\n    },\r\n\r\n    mounted () {\r\n        let id = this.$route.params.id\r\n        getUserById(id).then(res => {\r\n            if (isReqSuccessful(res)) {\r\n                this.user = res.data.model\r\n            }\r\n        }).then(this.fetchData)\r\n    },\r\n\r\n    data () {\r\n        return {\r\n            load: true, // 是否显示loading动画\r\n            page: 1, // 当前页码\r\n            total: 10, // 总共数据条数\r\n            tableData: [\r\n                {\r\n                    id: 1,\r\n                    manage: '2018-01-01',\r\n                    eNutritionT: '2018-05-10'\r\n                }\r\n            ], // 表格数据\r\n\r\n            isPass: null, // 筛选条件-是否通过\r\n            factoryName: null, // 筛选条件-工厂名称\r\n            options: { // 表格审核状态列，显示转换映射\r\n                所有数据: null,\r\n                未通过: 0,\r\n                已通过: 1,\r\n                未审核: 2\r\n            },\r\n\r\n            eartag: null,\r\n            gmtCreate: null\r\n        }\r\n    },\r\n\r\n    methods: {\r\n        cellClick(row) {\r\n            let id = row.id\r\n            let pathid = this.$route.params.id\r\n            let path = `/admin/${pathid}/${this.modpath}/more?more=${id}`\r\n            this.$router.push(path)\r\n        },\r\n        Spv (isPass, idx) {\r\n            let {id, ispassCheck} = this.tableData[idx]\r\n            if (ispassCheck !== '未审核') {\r\n                this.$message.warning('该条记录已审核')\r\n                return\r\n            }\r\n\r\n            let superviseMap = {\r\n                welfare: patchWelfare,\r\n                prevention: patchPrevention,\r\n                'nutrition/breed': patchBreeding,\r\n                'nutrition/stage': patchStage,\r\n                'health/antiscolic': patchAntiscolic,\r\n                'health/disinfect': patchAntiscolic,\r\n                'health/immune': patchAntiscolic\r\n            }\r\n            let professorMap = {\r\n                welfare: patchProWelfare,\r\n                prevention: patchProPrevention,\r\n                'nutrition/breed': patchProBreeding,\r\n                'nutrition/stage': patchProStage,\r\n                'health/antiscolic': patchProAntiscolic,\r\n                'health/disinfect': patchProAntiscolic,\r\n                'health/immune': patchProAntiscolic\r\n            }\r\n            let data = {\r\n                unpassReason: '',\r\n                factoryNum: this.user.userFactory,\r\n                professor: this.$route.params.id\r\n            }\r\n            // userRole 20羊场监督员\r\n            if (this.user.userRole == 20) {\r\n                data.ispassSup = isPass\r\n                superviseMap[this.checkModule](id, data).then(res => {\r\n                    if (isReqSuccessful(res)) {\r\n                        this.$message.success('监督执行成功')\r\n                        // this.tableData[idx].ispassCheck = isPass ? '已执行' : '未执行'\r\n                    }\r\n                }, _ => {\r\n                    this.$message.error('监督执行失败')\r\n                })\r\n            } else {\r\n                data.ispassCheck = isPass\r\n                professorMap[this.checkModule](id, data).then(res => {\r\n                    if (isReqSuccessful(res)) {\r\n                        this.$message.success('审核成功')\r\n                        this.tableData[idx].ispassCheck = isPass ? '已通过' : '未通过'\r\n                    }\r\n                }, _ => {\r\n                    this.$message.error('审核失败')\r\n                })\r\n            }\r\n        },\r\n\r\n        viewPlan (index) {\r\n            let id = this.tableData[index].id\r\n            this.$router.push({name: this.modpath, query: {view: id}})\r\n        },\r\n\r\n        async fetchData () {\r\n            let param = {\r\n                page: this.page - 1,\r\n                size: 10\r\n            }\r\n            if (this.isPass !== null) {\r\n                param.ispassCheck = this.isPass\r\n            }\r\n            if (this.factoryName !== null) {\r\n                param.factoryName = this.factoryName\r\n            }\r\n            if (this.gmtCreate !== null) {\r\n                console.log(this.gmtCreate)\r\n                param.startTime = this.gmtCreate[0]\r\n                param.endTime = this.gmtCreate[1]\r\n            }\r\n\r\n            let pathid\r\n            let { userFactory, userRealname, id, factoryName } = this.user\r\n            // 代理 工厂 游客\r\n            if (userFactory !== undefined) {\r\n                pathid = userFactory\r\n            } else if (id !== undefined) {\r\n                pathid = id\r\n            }\r\n\r\n            this.load = true\r\n            if (!this.releaseType) {\r\n                this.getData(pathid, param).then(res => {\r\n                    if (isReqSuccessful(res)) {\r\n                        let data = res.data;\r\n\r\n                        if (this.isAgent) {\r\n                            data.List.forEach(v => {\r\n                                let map = ['', '省级代理', '市级代理', '县级代理']\r\n                                v.agentRank = map[v.agentRank]\r\n                            })\r\n                        }\r\n                        let item = data.List[0]\r\n                        if (item && item.ispassCheck !== null && item.ispassCheck !== undefined) {\r\n                            data.List.forEach(v => {\r\n                                let map = ['未通过', '已通过', '未审核']\r\n                                v.ispassCheck = map[v.ispassCheck]\r\n                            })\r\n                        }\r\n                        if (item && item.killWormDeratization !== undefined) {\r\n                            data.List.forEach(v => {\r\n                                let map = ['否', '是']\r\n                                Object.keys(v).forEach(v2 => {\r\n                                    if (v[v2] === 0 || v[v2] === 1) {\r\n                                        v[v2] = map[v[v2]]\r\n                                    }\r\n                                })\r\n                            })\r\n                        }\r\n                        if (item && item.materialA !== undefined) {\r\n                            data.List.forEach(v => {\r\n                                let map = [\r\n                                    'materialA',\r\n                                    'materialM',\r\n                                    'materialO',\r\n                                    'materialWM',\r\n                                    'materialWO',\r\n                                    'roughageP',\r\n                                    'roughageD',\r\n                                    'roughageO',\r\n                                    'roughageWP',\r\n                                    'roughageWD',\r\n                                    'roughageWO',\r\n                                    'pickingM',\r\n                                    'pickingR',\r\n                                    'pickingO'\r\n                                ]\r\n                                map.forEach(v2 => {\r\n                                    if (v[v2] && v[v2].indexOf('[') !== -1) {\r\n                                        v[v2] = JSON.parse(v[v2]).join(',')\r\n                                    }\r\n                                })\r\n                            })\r\n                        }\r\n                        this.tableData = data.List\r\n                        this.total = data.size\r\n                    }\r\n                    this.load = false\r\n                }, _ => {\r\n                    this.load = false\r\n                    this.$message.error('获取数据失败')\r\n                })\r\n            } else {\r\n                let res = await getReleaseByName(this.releaseType)\r\n                this.tableData = res.data.List\r\n                this.total = res.data.size\r\n                this.load = false\r\n            }\r\n        },\r\n\r\n        edit (index, isView) {\r\n            let id = this.tableData[index].id\r\n            let path\r\n            let pathid = this.$route.params.id\r\n            if (this.noPrac) {\r\n                if (isView) {\r\n                    path = `/admin/${pathid}/${this.modpath}?view=${id}`\r\n                } else {\r\n                    path = `/admin/${pathid}/${this.modpath}?edit=${id}`\r\n                }\r\n            } else if (!this.isCheck) {\r\n                if (isView) {\r\n                    path = `/admin/${pathid}/${this.modpath}/prac?view=${id}`\r\n                } else {\r\n                    path = `/admin/${pathid}/${this.modpath}/prac?edit=${id}`\r\n                }\r\n            } else {\r\n                path = `/admin/${pathid}/${this.checkModule}/prac?check=${id}`\r\n            }\r\n            this.$router.push(path)\r\n        },\r\n\r\n        deleteItem (index) {\r\n            this.$confirm('将永久删除此条记录, 是否继续?', '提示', {\r\n                type: 'warning'\r\n            }).then(() => {\r\n                let id = this.tableData[index].id\r\n                this.deleteData(id).then(res => {\r\n                    if (isReqSuccessful(res)) {\r\n                        this.fetchData()\r\n                        this.$message.success('删除成功!')\r\n                    }\r\n                })\r\n            }).catch(() => {\r\n                return false\r\n            })\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"stylus\">\r\n@import '~@/assets/css/color'\r\n.el-table th\r\n    border-left 2px solid #98c9e6\r\n    color #fff\r\n    background-color color-main !important\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/breed_table.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(!_vm.hideFilter && !_vm.releaseType )?_c('div',{staticClass:\"admin-list-pass\"},[(!_vm.hidePass)?_c('el-select',{attrs:{\"width\":\"120\",\"size\":\"small\",\"placeholder\":\"所有数据\"},on:{\"change\":function($event){_vm.fetchData()}},model:{value:(_vm.isPass),callback:function ($$v) {_vm.isPass=$$v},expression:\"isPass\"}},_vm._l((_vm.options),function(val,key){return _c('el-option',{key:val,attrs:{\"label\":key,\"value\":val}})})):_vm._e(),_vm._v(\" \"),_c('el-input',{staticClass:\"pick-erpai\",attrs:{\"size\":\"small\"},model:{value:(_vm.factoryName),callback:function ($$v) {_vm.factoryName=$$v},expression:\"factoryName\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"单位名:\")])],2),_vm._v(\" \"),(!_vm.hideEartagFilter)?_c('el-input',{staticClass:\"pick-erpai\",attrs:{\"size\":\"small\"},model:{value:(_vm.eartag),callback:function ($$v) {_vm.eartag=$$v},expression:\"eartag\"}},[_c('template',{slot:\"prepend\"},[_vm._v(\"耳牌号:\")])],2):_vm._e(),_vm._v(\" \"),_c('el-date-picker',{attrs:{\"size\":\"small\",\"type\":\"datetimerange\",\"range-separator\":\"至\",\"start-placeholder\":\"开始日期\",\"end-placeholder\":\"结束日期\",\"format\":\"yyyy-MM-dd\",\"value-format\":\"yyyy-MM-dd\",\"align\":\"right\"},model:{value:(_vm.gmtCreate),callback:function ($$v) {_vm.gmtCreate=$$v},expression:\"gmtCreate\"}}),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":function($event){_vm.fetchData()}}},[_vm._v(\"查询\")])],1):_vm._e(),_vm._v(\" \"),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.load),expression:\"load\"}],ref:\"table\",staticClass:\"admin-table\",attrs:{\"tooltip-effect\":\"dark\",\"data\":_vm.tableData}},[_vm._l((_vm.headers),function(th,i){return _c('el-table-column',{key:i,attrs:{\"show-overflow-tooltip\":\"\",\"align\":\"center\",\"prop\":th.prop,\"label\":th.label,\"width\":100}})}),_vm._v(\" \"),_c('el-table-column',{staticClass:\"action\",attrs:{\"fixed\":\"right\",\"label\":\"操作\",\"align\":\"center\",\"width\":\"160\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(!_vm.releaseType && !_vm.isCheck)?_c('div',{staticClass:\"opr\"},[(!_vm.hideView)?_c('span',{on:{\"click\":function($event){_vm.cellClick(scope.row, scope.column)}}},[_vm._v(\"查看\")]):_vm._e(),_vm._v(\" \"),[(_vm.showEdit)?_c('span',{on:{\"click\":function($event){_vm.edit(scope.$index)}}},[_vm._v(\"编辑\")]):_vm._e(),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.deleteItem(scope.$index)}}},[_vm._v(\"删除\")])]],2):(_vm.releaseType)?_c('div',{staticClass:\"opr\"},[_c('span',{on:{\"click\":function($event){_vm.viewPlan(scope.$index)}}},[_vm._v(\"查看\")])]):_c('div',{staticClass:\"opr\"},[_c('span',{on:{\"click\":function($event){_vm.Spv(1, scope.$index)}}},[_vm._v(\"通过\")]),_vm._v(\" \"),_c('span',{on:{\"click\":function($event){_vm.Spv(0, scope.$index)}}},[_vm._v(\"拒绝\")])])]}}])})],2),_vm._v(\" \"),_c('el-pagination',{attrs:{\"layout\":\"prev, pager, next\",\"total\":_vm.total,\"current-page\":_vm.page},on:{\"current-change\":_vm.fetchData,\"update:currentPage\":function($event){_vm.page=$event}}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7651bdc7\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/breed_table.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7651bdc7\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./breed_table.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./breed_table.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./breed_table.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7651bdc7\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./breed_table.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/breed_table.vue\n// module id = null\n// module chunks = ","<template>\n    <div>\n        <admin-table\n            class=\"breed-table\"\n            modpath=\"nutrition/breed\"\n            :getData=\"getAllBreeding\"\n            :deleteData=\"deleteBreeding\"\n            :headers=\"headers\">            \n        </admin-table>\n    </div>\n</template>\n\n<script>\nimport AdminTable from '@/components/admin/breed_table'\nimport { getAllBreeding, deleteBreeding } from '@/util/getdata'\n\nexport default {\n    components: {\n        AdminTable\n    },\n\n    data () {\n        return {\n            getAllBreeding,\n            deleteBreeding,\n            headers: [\n                {prop: 'ispassCheck', label: '审核状态', width: '80'},\n                {prop: 'factoryName', label: '工厂名'},\n                {label: '配种时间', prop: 'breedingTime'},\n                {label: '配种后移至栏/栋', prop: 'buildingAfterBreeding'},\n                {label: '母羊商标耳牌', prop: 'ramSheepTrademark'},\n                {label: '种公商标耳牌', prop: 'eweSheepTrademark'},\n                {label: '管理批次(前后五天内配种，分批次管理)', prop: 'manageFlag'},\n                {label: '批次平均分配配种日期', prop: 'manageAverageTime'},   \n                {label: '执行妊娠前期营养标准(妊娠前三月)', prop: 'nutritionBeforePregnancy'},\n                {label: '确定妊娠(配种后20天)', prop: 'isPregnancy'},                                                \n                {label: '执行妊娠后期营养标准(妊娠后两月)', prop: 'nutritionAfterPregnancy'},\n                {label: '产前免疫种类(产前10|20天)', prop: 'prenatalImmunityType'},\n                {label: '产前免疫时间', prop: 'prenatalImmunityTime'},   \n                {label: '移至待产栏/栋',  prop: 'buildingToBeRelocated'},                               \n                {label: '执行产期营养标准(产前一周)', prop: 'nutritionBeforeLambing'}, \n                {label: '产羔时间', prop: 'lambingTime'},\n                {label: '产羔数量', prop: 'lambingNumber'},                \n                {label: '执行哺乳期营养标准(产后一周)', prop: 'nutritionBreastFeeding'},\n                {label: '执行羔羊代乳料营养标准(羔羊一月龄)', prop: 'nutritionInsteadBreastFeeding'},       \n                {label: '执行断奶前母羊营养标准(断奶前一周)', prop: 'nutritionBeforeCutBreastFeeding'},\n                {label: '执行羔羊断奶期营养标准', prop: 'nutritionCutBreastFeeding'},          \n                {prop: 'operatorName', label: '操作人员'},\n                {prop: 'professorName', label: '技术审核'},\n                {prop: 'supervisorName', label: '监督执行'},\n                {prop: 'professorNotPassReason', label: '审核拒绝原因'},\n                {prop: 'remark', label: '备注'}\n            ]\n        }\n    }\n}\n</script>\n\n<style lang=\"stylus\" scoped>\n\n</style>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/admin/nutrition/breed_list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('admin-table',{staticClass:\"breed-table\",attrs:{\"modpath\":\"nutrition/breed\",\"getData\":_vm.getAllBreeding,\"deleteData\":_vm.deleteBreeding,\"headers\":_vm.headers}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2cdf9938\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/admin/nutrition/breed_list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2cdf9938\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!stylus-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./breed_list.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./breed_list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./breed_list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2cdf9938\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./breed_list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2cdf9938\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/admin/nutrition/breed_list.vue\n// module id = null\n// module chunks = ","import Vue from 'vue'\r\nexport default new Vue()\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bus.js"],"sourceRoot":""}